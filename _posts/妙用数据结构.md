---
title: 妙用数据结构
abbrlink: 3229280313
date: 2023-03-23 23:41:56
tags: CodingInterview
---
## C++ STL
在刷题时，我们几乎一定会用到各种数据结构来辅助我们解决问题，因此我们必须熟悉各种数据结构的特点。C++ STL 提供的数据结构包括（实际底层细节可能因编译器而异）：
- Sequence Containers：维持顺序的容器：
    - vector：**动态数组**，是我们最常使用的数据结构之一，用于 O(1) 的随机读取。因为大部分算法的时间复杂度都会大于 O(n)，因此我们经常新建 vector 来存储各种数据或中间变量。因为在尾部增删的复杂度是 O(1)，我们也可以把它当作 stack 来用。
    - list：**双向链表**，也可以当作 stack 和 queue 来使用。由于 LeetCode 的题目多用 Node 来表示链表，且链表不支持快速随机读取，因此我们很少用到这个数据结构（LRU 除外）。
    - deque：**双端队列**，这是一个非常强大的数据结构，既支持 O(1) 随机读取，又支持 O(1) 时间的头部增删和尾部增删，不过有一定的额外开销。
    - array：固定大小的数组，一般在刷题时我们不使用。
    - forward_list：单向链表，一般在刷题时我们不使用。
- Container Adaptors：基于其它容器实现的数据结构：
    - stack：**后入先出的数据结构**，默认基于 deque 实现。stack 常用于深度优先搜索、一些字符串匹配问题以及单调栈问题。
    - queue：**先入先出的数据结构**，默认基于 deque 实现。queue 常用于广度优先搜索。
    - priority_queue：**最大值先出的数据结构**，默认基于 vector 实现堆结构。它可以在 O(nlogn) 的时间排序数组，O(logn) 的时间插入任意值，O(1) 的时间获得最大值，O(logn) 的时间删除最大值。priority_queue 常用于维护数据结构并快速获取最大或最小值。

<!--more-->
- Associative Containers：实现了排好序的数据结构：
    - set：**有序集合**，元素不可重复，底层实现默认为红黑树，即一种特殊的二叉查找树。它可以在 O(nlogn) 的时间排序数组，O(logn) 的时间插入、删除、查找任意值，O(logn) 的时间获得最小或最大值。这里注意，set 和 priority_queue 都可以用于维护数据结构并快速获取最大最小值，但是它们的时间复杂度和功能略有区别，如 priority_queue 默认不支持删除任意值，而 set 获得最大或最小值的时间复杂度略高，具体使用哪个根据需求而定。
    - multiset：支持重复元素的 set。
    - map：**有序映射或有序表**，在 set 的基础上加上映射关系，可以对每个元素 key 存一个值 value。
    - multimap：支持重复元素的 map。
- Unordered Associative Containers：对每个 Associative Containers 实现了哈希版本：
    - unordered_set：**哈希集合**，可以在 O(1) 的时间快速插入、查找、删除元素，常用于快速的查询一个元素是否在这个容器内。
    - unordered_multiset：支持重复元素的 unordered_set。
    - unordered_map：**哈希映射或哈希表**，在 unordered_set 的基础上加上映射关系，可以对每一个元素 key 存一个值 value。在某些情况下，如果 key 的范围已知且较小，我们也可以用 vector 代替 unordered_map，用位置表示 key，用每个位置的值表示 value。
    - unordered_multimap：支持重复元素的 unordered_map。

## 数组
[448. Find All Numbers Disappeared in an Array](https://leetcode.com/problems/find-all-numbers-disappeared-in-an-array/)
我们可以直接对原数组进行标记：把重复出现的数字在原数组出现的位置设为负数，最后仍然为正数的位置即为没有出现过的数。

[48. Rotate Image](https://leetcode.com/problems/rotate-image/)
每次只考虑四个间隔 90 度的位置，可以进行 O(1) 额外空间的旋转：
![](https://raw.githubusercontent.com/necusjz/p/master/CodingInterview/leetcode/05.png)


## 栈和队列

## 单调栈

## 优先队列

## 双端队列

## 哈希表

## 多重集合和映射

## 前缀和与积分图

## 练习
